<!DOCTYPE html>
<html lang="ru">
<head>
<meta charset="UTF-8">
<title>–õ–∏—á–Ω—ã–π –∫–∞–±–∏–Ω–µ—Ç ‚Äî –ê–≤—Ä–æ—Ä–∞</title>
<style>
@import url('https://fonts.googleapis.com/css2?family=Comfortaa:wght@400;700&display=swap');
body{margin:0;font-family:'Comfortaa',cursive;background:linear-gradient(135deg,#0d0415,#2a1238);color:#fff;transition:background 0.5s,color 0.5s;}
body.light{background:linear-gradient(135deg,#e0dff5,#fff0f5) !important;color:#222 !important;}
.container{max-width:900px;margin:auto;padding:30px;}
h1{text-align:center;margin-bottom:30px;text-shadow:0 0 10px rgba(0,0,0,0.6),0 0 20px #b689f5,0 0 30px #d2aaff;transition:text-shadow 0.5s;}
body.light h1{text-shadow:0 0 5px #b689f5,0 0 10px #d2aaff !important;}
label{display:block;margin-top:15px;font-weight:bold;}
input[type=text],textarea{width:100%;padding:10px;border-radius:10px;border:none;margin-top:5px;transition:box-shadow 0.5s;}
.avatar-preview{margin-top:10px;width:150px;height:150px;border-radius:50%;object-fit:cover;border:3px solid #b689f5;box-shadow:0 0 20px #b689f5;}
.section{margin-bottom:25px;padding:15px;border-radius:15px;box-shadow:0 0 20px #b689f5;transition:box-shadow 0.5s;}
body.light .section{box-shadow:0 0 15px #b689f5 !important;}
.history ul{list-style:none;padding:0;}
.history li{margin-bottom:8px;background:rgba(255,255,255,0.1);padding:8px;border-radius:10px;}
.theme-toggle{position:absolute;top:20px;left:20px;padding:8px 15px;border-radius:20px;border:none;cursor:pointer;background:#b689f5;color:#fff;}
body.light .theme-toggle{background:#d2aaff !important;color:#222 !important;}
</style>
</head>
<body>
<button class="theme-toggle" onclick="toggleTheme()">–°–º–µ–Ω–∏—Ç—å —Ç–µ–º—É</button>
<div class="container">
<h1>–õ–∏—á–Ω—ã–π –∫–∞–±–∏–Ω–µ—Ç üåí‚ú®</h1>

<div class="section">
  <label>–†–æ–ª—å:</label>
  <input type="text" id="role" disabled/>
</div>

<div class="section">
  <label>–û—á–∫–∏:</label>
  <input type="text" id="score" disabled value="20"/>
</div>

<div class="section">
  <label>–ù–∏–∫:</label>
  <input type="text" id="nickname" placeholder="–ü—Ä–∏–¥—É–º–∞–π –Ω–∏–∫"/>
</div>

<div class="section">
  <label>–ê–≤–∞—Ç–∞—Ä:</label>
  <input type="file" id="avatarInput"/>
  <img id="avatarPreview" class="avatar-preview"/>
</div>

<div class="section">
  <label>–•–æ–±–±–∏:</label>
  <textarea id="hobby" rows="2" placeholder="–ù–∞–ø–∏—à–∏ —Å–≤–æ–∏ —Ö–æ–±–±–∏"></textarea>
</div>

<div class="section">
  <label>–õ—é–±–∏–º–∞—è –º—É–∑—ã–∫–∞:</label>
  <textarea id="music" rows="2" placeholder="–ù–∞–ø–∏—à–∏ –ª—é–±–∏–º—ã–µ –ø–µ—Å–Ω–∏ –∏–ª–∏ –∂–∞–Ω—Ä—ã"></textarea>
</div>

<div class="section">
  <label>–ù–∞—Å—Ç—Ä–æ–µ–Ω–∏–µ —Å–µ–π—á–∞—Å:</label>
  <input type="text" id="mood" placeholder="–ö–∞–∫ —Ç—ã —Å–µ–±—è —á—É–≤—Å—Ç–≤—É–µ—à—å"/>
</div>

<div class="section">
  <label>–¶–∏—Ç–∞—Ç–∞/–º–∞–Ω—Ç—Ä–∞:</label>
  <textarea id="quote" rows="2" placeholder="–ù–∞–ø–∏—à–∏ —Å–≤–æ—é —Ü–∏—Ç–∞—Ç—É –∏–ª–∏ –º–∞–Ω—Ç—Ä—É"></textarea>
</div>

<div class="section history">
  <label>–ò—Å—Ç–æ—Ä–∏—è –¥–µ–π—Å—Ç–≤–∏–π:</label>
  <ul id="historyList"></ul>
</div>
</div>

<script>
function toggleTheme(){
  document.body.classList.toggle('light');
  localStorage.setItem('theme',document.body.classList.contains('light')?'light':'dark');
}

const roleInput=document.getElementById('role');
const historyList=document.getElementById('historyList');
const avatarInput=document.getElementById('avatarInput');
const avatarPreview=document.getElementById('avatarPreview');

window.addEventListener('DOMContentLoaded',()=>{
  // –ø—Ä–∏–º–µ–Ω—è–µ–º —Ç–µ–º—É
  const theme=localStorage.getItem('theme')||'dark';
  if(theme==='light') document.body.classList.add('light');

  // –∑–∞–≥—Ä—É–∂–∞–µ–º —Ä–æ–ª—å –∏ –∏—Å—Ç–æ—Ä–∏—é
  const role=localStorage.getItem('userRole')||'';
  const history=JSON.parse(localStorage.getItem('history')||'[]');
  roleInput.value=role;
  history.forEach(item=>{
    const li=document.createElement('li');
    li.textContent=item;
    historyList.appendChild(li);
  });
});

// –∞–≤–∞—Ç–∞—Ä
avatarInput.addEventListener('change',function(e){
  const file=e.target.files[0];
  if(!file) return;
  const reader=new FileReader();
  reader.onload=function(ev){ avatarPreview.src=ev.target.result; }
  reader.readAsDataURL(file);
});
</script>
</body>
</html>
